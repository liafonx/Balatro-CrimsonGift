# CrimsonGift

[English README](README.md)

**猩红的恩赐** — 当猩红之心禁用增加手牌上限的小丑时，本局将永久增加手牌上限。它是一个有意保留的机制，适合无尽模式。

## 为什么需要这个模组

SMODS `1.0.0~BETA-1221a` 及之后修复了原版猩红之心增加手牌上限的bug（俗称卡豆子）。本模组将此bug作为一个平衡的特色机制恢复。

## 工作方式

- 禁用手牌上限小丑后，手牌上限 **保持不变**（不会下降）
- 当非手牌上限小丑被禁用时，恩赐 **立即生效**
- 连续禁用多个手牌上限小丑 → 保留 **最大** 的加成
- **如果在恩赐待生效时击败 Boss**，有特殊规则（见下文）

## 恩赐生效规则

| 场景 | 结果 |
|------|------|
| 手牌上限小丑被禁用 → 非手牌上限小丑被禁用 | 恩赐立即生效 |
| 单个手牌上限小丑被禁用 → 击败 Boss | 恩赐 **丢失** |
| 多个手牌上限小丑被禁用 → 击败 Boss | 保留 **最大值**（不含最后一个） |

## 例子

1. 你有吟游诗人（+2 手牌上限）→ 手牌为 `10/10`（基础 8 + 吟游诗人 2）
2. 猩红之心禁用吟游诗人 → 显示保持 `10/10`（额外手牌效果保留）
3. 下一轮：占卜师（非加手牌小丑）被禁用 → 恩赐 +2 生效
4. 手牌上限保持 `12/12`（基础 8 + 吟游诗人 2 + 恩赐 2）
5. 如果之后卖掉吟游诗人 → 手牌上限变为 `10/10`（基础 8 + 恩赐 2）

**注意：** 恩赐是独立于小丑的永久加成。被禁用的小丑在卖掉之前仍然提供其手牌上限加成。

### 击败 Boss 场景

**单次禁用：**
1. 吟游诗人（+2）被禁用 → 待生效 +2
2. 下一手出牌击败 Boss → 恩赐 **丢失**，保持 `10/10`

**多次禁用：**
1. 吟游诗人（+2）被禁用 → 待生效 +2
2. 杂耍师（+1）被禁用 → 待生效 +1，最大值（不含最后一张小丑）= +2
3. 下一手出牌击败 Boss → 保留 +2，手牌上限变为 `12/12`

## 需求 & 兼容性

- **必须安装 SMODS 以及 Lovely**（不支持原版）
- **最低 SMODS 版本：** `1.0.0~BETA-1221a`
- 与其他手牌上限相关模组兼容（不覆盖 SMODS 逻辑）
- 与 Save Rewinder 兼容（状态正确保存）

## 安装

1. 下载并解压[最新版本](https://github.com/Liafonx/Balatro-CrimsonGift/releases) — 其中包含一个 `CrimsonGift` 文件夹
2. 将 `CrimsonGift` 文件夹复制到小丑牌的 `Mods` 目录
3. 启动小丑牌

## 支持语言

- 英文 (English)
- 简体中文

## 通知提示

| 事件 | 提示信息 |
|------|---------|
| 首次禁用手牌上限小丑 | "猩红恩赐降临，手牌上限将 +N" |
| 连续禁用手牌上限小丑 | "连续禁用：保留手牌上限 +N" |
| 恩赐生效 | "猩红恩赐生效，手牌上限 +N" |
| 击败 Boss（单次禁用） | "猩红之心被击败，恩赐消失" |
| 击败 Boss（多次禁用） | "击败 Boss：保留手牌上限 +N" |

## 策略说明

在无尽模式中，我们通常使用男爵、哑剧演员与红封钢 K 牌的组合来挑战高分，这套策略对手牌数量极为敏感，手牌上限和小丑槽位很快成为瓶颈。负片小丑出现极为稀有，因此玩家往往依赖幻灵牌灵质给现有小丑添加负片效果，但幻灵牌会降低手牌上限。猩红的恩赐可以抵消这部分惩罚，让你更安心地使用灵质而不至于因为手牌太少而翻车。由于能通关无尽模式的种子非常稀少、耗时又很长，一次手牌上限不足就可能前功尽弃；猩红的恩赐能在不破坏平衡的前提下，适度提升通关概率。
